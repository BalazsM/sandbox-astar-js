<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>A* pathfinding algorithm</title>

		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js"></script>
		
		<link rel="stylesheet" type="text/css" href="style.css">
    	<script src="index.js"></script>
	</head>
	<body>
		<div id="workspace" class="z-0"></div>

		<div class="d-flex flex-column flex-shrink-0 m-2 ms-auto h-100 z-1 card opacity-75" style="width: 400px;">
			<div class="card-body">
				<span class="display-6">A* algorithm</span>

				<p class="mt-2"><a href="https://github.com/BalazsM/sandbox-astar">source code</a></p>

				<h5>Simulation stats</h5>

				<table class="table table-sm">
					<tr><td>FPS:</td><td id="simulationFPSDisplay"></td></tr>
					<tr><td>Start position:</td><td id="simulationStartPositionDisplay"></td></tr>
					<tr><td>End position:</td><td id="simulationEndPositionDisplay"></td></tr>
					<tr><td>Path length:</td><td id="simulationPathLengthDisplay"></td></tr>
				</table>

				<h5>Simulation options</h5>

				<table class="table table-sm">
					<tr>
						<td>Grid seed:</td>
						<td><output id="simulationGridSeedOutput"></output></td>
						<td><input type="range" id="simulationGridSeedInput" class="form-range" min="0" max="100" value="50" step="1"
							oninput="simulationGridSeedOutput.value = simulationGridSeedInput.value; simulationGridRegenerate = true;"></td>
					</tr>
					<tr>
						<td>Grid wall rate:</td>
						<td><output id="simulationGridWallRateOutput"></output></td>
						<td><input type="range" id="simulationGridWallRateInput" class="form-range" min="0" max="1" value="0.3" step="0.01"
								oninput="simulationGridWallRateOutput.value = simulationGridWallRateInput.value; simulationGridRegenerate = true;"></td>
					</tr>
					<tr>
						<td>Grid columns:</td>
						<td><output id="simulationGridColumnsOutput"></output></td>
						<td><input type="range" id="simulationGridColumnsInput" class="form-range" min="10" max="200" value="100" step="1"
							oninput="simulationGridColumnsOutput.value = simulationGridColumnsInput.value"></td>
					</tr>
					<tr>
						<td>Grid rows:</td>
						<td><output id="simulationGridRowsOutput"></output></td>
						<td><input type="range" id="simulationGridRowsInput" class="form-range" min="10" max="200" value="70" step="1"
							oninput="simulationGridRowsOutput.value = simulationGridRowsInput.value"></td>
					</tr>
				</table>

				<h5>Display options</h5>

				<div>
					<input type="checkbox" id="simulationShowOpenSet">
					<label for="simulationShowOpenSet">Show open set</label>
				</div>
				<div>
					<input type="checkbox" id="simulationShowClosedSet">
					<label for="simulationShowClosedSet">Show closed set</label>
				</div>

				<h5>Help</h5>

				<p>The code is based on <a href="https://codingtrain.github.io/AStar/">Daniel Shiffman's A* pathfinding tutorial</a></p>
				<p>While moving cursor on grid you can hold keys down for various options.</p>
				<table class="table table-sm">
					<tr><td>s</td><td>set start position</td></tr>
					<tr><td>e</td><td>set end position</td></tr>
					<tr><td>w</td><td>place wall</td></tr>
					<tr><td>a</td><td>remove wall</td></tr>
					<tr><td>space</td><td>toggle wall</td></tr>
				</p>
			</div>
		</div>
	</body>
</html>
